---
title: 五月站点更新
date: 2019-05-25 12:00:00
tags: 优化,网站建设
index_img: https://cdn.jsdelivr.net/gh/SteveCharlesYang/blog@img/index_img/19-may-update.jpeg
categories:
  - [Debug]
  - [技术, 网站建设]
---

这个月对网站做了如下操作。

### 增加 live2D 看板娘

（目前只能在电脑上看到）

细心的访客可以发现，页面的左下角出现了一位看板娘（是 live2D 人物 hibiki）。目前由于技术限制没有增加除了工具提示外的更多功能，欢迎调戏。

由于网上存在大量的指导，施工的全程没有什么大坑，但值得注意的有两点。

*   在 wordpress 上为了避免语义混淆，取消了“$”的函数定义，所以所有调用 `$` 的均应全部改成 `jQuery` 。
*   有一些模型没有定义鼠标触碰的区域，需要手动设置，此时可以从 `live2d.js` 中将鼠标的debug模式从 `!1` 改成 `true` ，在控制台上获取坐标。

由于 live2D 模型过于巨大，因此为网站静态内容加速刻不容缓。

### 全站静态内容分离 + 国内CDN

老娘本来是有国内的备案域名的，奈何域名不适合自己的博客，所以就稍微利用了一下，拿了个子域名作为 CDN 。由于在阿里云有备案的域名，阿里云的 OSS 回源一直无法成功，不适合存储将来会增加的图片内容，而七牛云则提供了回源与 CDN 功能，所以这里采用的是阿里云 OSS + 七牛云 CDN 分别存储 live2D + 图片内容和所有的静态脚本/样式。现在本站的加载速度可以说是全面地、极大地提升了。

### Recaptcha 转国内

在之前，国内是无法使用 recaptcha 的，原因是其与 Google 相关的域名。而现在则不需要这么麻烦了，直接将对应的URL替换成 recaptcha.net 即可正常使用。

自此，本站已经完全可以在国内环境下流畅访问。